<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Riftbound Judge Codex (V1)</title>
    <link rel="manifest" href="manifest.webmanifest">
    <meta name="theme-color" content="#111111">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/app.css" />
</head>

<body>
  <div id="rbNavbar"></div>
  <div id="rbSidebar"></div>


    <main class="container py-4">
        <div class="row g-3">
            <div class="col-12">
                <div class="card shadow-sm">
                  <div class="card-body">
                        <div class="d-flex flex-column flex-md-row gap-2 align-items-md-center">
                            <div class="flex-grow-1">
                                <label for="q" class="form-label mb-1">Search rules</label>
                                <input id="q" class="form-control form-control-lg"
                                    placeholder="e.g. stun, domain identity, 103.2.e.1" autocomplete="off">
                            </div>

                            <div style="min-width: 220px;">
                                <label for="docFilter" class="form-label mb-1">Document</label>
                                <select id="docFilter" class="form-select form-select-lg">
                                    <option value="ALL" selected>All</option>
                                </select>
                            </div>
                        </div>

                        <div class="d-flex flex-wrap gap-2 align-items-center mt-3">
                            <span id="statusBadge" class="badge text-bg-secondary">Loading…</span>
                            <span id="docsBadge" class="badge text-bg-light border text-secondary">Docs: —</span>
                            <span class="text-secondary small">Tip: Never kill a poro</span>
                        </div>
                        <div class="mt-3 small text-secondary">
                          <div class="d-flex align-items-center gap-1">
                            <div class="fw-semibold text-light">Search tips</div>
                            <button class="btn btn-link p-0 text-secondary" type="button" data-bs-toggle="offcanvas"
                              data-bs-target="#rbSearchHelp" aria-controls="rbSearchHelp" aria-label="Open search tips" title="Search tips">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.8 2.006z"/>
                                <path d="M7.002 11a1 1 0 1 0 2 0 1 1 0 0 0-2 0z"/>
                              </svg>
                            </button>
                          </div>
                          <div class="mt-1">Tap the <span class="fw-semibold">?</span> to see all supported search methods.</div>
                        </div>
    </div>

    <!-- Search tips (offcanvas) -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="rbSearchHelp" aria-labelledby="rbSearchHelpLabel">
      <div class="offcanvas-header">
        <div class="offcanvas-title fw-semibold" id="rbSearchHelpLabel">Search tips</div>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <p class="fw-light mb-3">Use these methods to find the right rule quickly.</p>
        <ul class="mb-0">
          <li><span class="fw-semibold">Keyword search:</span> type a term like <code>stun</code> or <code>weaponmaster</code>.</li>
          <li><span class="fw-semibold">Multiple words (AND):</span> use spaces to refine results, e.g. <code>combat stun</code>.</li>
          <li><span class="fw-semibold">Rule reference:</span> jump directly with a ref like <code>103.2.d</code> or <code>747.1.a</code>.</li>
          <li><span class="fw-semibold">Case-insensitive:</span> <code>StUn</code> works like <code>stun</code>.</li>
        </ul>
      </div>
    </div>
                </div>
            </div>

            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <div class="text-secondary small">
                        <span id="resultsCount">0</span> results
                    </div>
                    <button id="clearBtn" class="btn btn-sm btn-outline-secondary">Clear</button>
                </div>

                <div id="results" class="vstack gap-2"></div>

                <div id="emptyState" class="text-center text-secondary py-5 d-none">
                    <img src="assets/img/poro.png" alt="No results" class="mb-3 img-fluid" style="min-width: 180px; opacity: 0.85;" />
                    <div class="fw-semibold">No results</div>
                    <div class="small">Try different keywords or a rule reference like <code>103.2.d</code>.</div>
                </div>
            </div>
        </div>
    </main>

    <div id="rbFooter"></div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/app.js"></script>
    <script>
      window.RB?.mountLayout?.();
    </script>
    <script src="assets/js/search.js"></script>
    <script src="assets/js/index.js"></script>
  </body>

</html>